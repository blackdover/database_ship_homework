# 登录页面样式替换说明

## 📋 概述

本文档说明如何将当前项目的登录页面样式替换为 `database_simple_old` 项目中的 Glassmorphism 风格登录页面。

## ✅ 已完成的步骤

### 1. 创建登录页面模板

**文件位置**：`container_management/management/templates/management/login.html`

已创建了包含以下特性的登录页面：
- ✨ Glassmorphism 设计风格（毛玻璃效果）
- 🎨 渐变背景和装饰元素
- 📱 响应式设计（支持移动端）
- 🎯 现代化的表单设计
- 💫 流畅的动画效果

### 2. 更新 URL 路由配置

**文件位置**：`container_management/container_management/urls.py`

已添加以下路由：
- `/login/` - 自定义登录页面
- `/logout/` - 自定义登出页面
- `/dashboard/` - 用户仪表盘

### 3. 登录视图函数

**文件位置**：`container_management/management/auth_views.py`

项目已包含 `custom_login()` 视图函数，该函数：
- 处理 GET 请求显示登录页面
- 处理 POST 请求验证用户登录
- 支持 Django 认证系统
- 集成数据库用户信息同步

## 🚀 使用方法

### 方法一：直接访问自定义登录页面

访问：`http://localhost:8000/login/`

### 方法二：配置 Django Admin 使用自定义登录页面（推荐）

如果你希望访问 `/admin/` 时也使用自定义登录页面，需要修改 `settings.py`：

```python
# 在 settings.py 中添加
LOGIN_URL = '/login/'
LOGIN_REDIRECT_URL = '/admin/'
```

这样，当未登录用户访问 `/admin/` 时，会自动重定向到 `/login/`。

### 方法三：修改根路径重定向

当前配置中，根路径 `/` 已重定向到 `/login/`，所以直接访问 `http://localhost:8000/` 也会显示登录页面。

## 🎨 样式特点

### Glassmorphism 设计
- **毛玻璃效果**：使用 `backdrop-filter: blur()` 实现
- **半透明背景**：`rgba(255, 255, 255, 0.85)`
- **渐变装饰**：背景中的圆形装饰元素

### 配色方案
- **主色调**：蓝色系（#1976D2, #2196F3）
- **背景**：浅蓝色渐变
- **文字**：深灰色（#212121）

### 响应式设计
- 桌面端：左右分栏布局
- 移动端：单栏布局，自动适配

## 🔧 自定义修改

### 修改颜色主题

编辑 `login.html` 中的 CSS 变量：

```css
:root {
    --primary-blue: #1976D2;      /* 主蓝色 */
    --accent-blue: #2196F3;       /* 强调蓝色 */
    --light-blue: #E3F2FD;        /* 浅蓝色 */
    /* ... 其他颜色变量 */
}
```

### 修改背景渐变

修改 `body` 的 `background` 属性：

```css
body {
    background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 50%, #90CAF9 100%);
}
```

### 修改 Logo 和标题

在 HTML 部分修改：

```html
<div class="login-left">
    <div class="logo">
        <i class="fas fa-ship"></i>  <!-- 修改图标 -->
    </div>
    <h1>港口集装箱<br>运营系统</h1>  <!-- 修改标题 -->
    <p>Terminal Operating System<br>高效 · 智能 · 可靠</p>  <!-- 修改副标题 -->
</div>
```

### 修改功能列表

在 `features` 部分修改：

```html
<div class="feature-item">
    <i class="fas fa-boxes"></i>  <!-- 修改图标 -->
    <span>堆场库存管理</span>      <!-- 修改文字 -->
</div>
```

## 📝 注意事项

### 1. 登录后重定向

当前登录成功后重定向到 `dashboard`，如果你希望重定向到 Django Admin，可以修改 `auth_views.py`：

```python
# 在 custom_login() 函数中
return redirect('/admin/')  # 重定向到 Admin
# 或
return redirect('admin_dashboard')  # 重定向到仪表盘
```

### 2. 静态资源

登录页面使用了外部 CDN 资源：
- Font Awesome 图标库
- Google Fonts（Roboto 字体）

如果需要在离线环境使用，需要下载这些资源到本地。

### 3. 浏览器兼容性

Glassmorphism 效果需要现代浏览器支持：
- Chrome 76+
- Firefox 103+
- Safari 9+
- Edge 79+

对于旧版浏览器，会降级为普通半透明效果。

## 🐛 常见问题

### Q: 登录页面不显示样式？

**A:** 检查以下几点：
1. 确保模板文件路径正确：`management/templates/management/login.html`
2. 检查 `settings.py` 中的 `TEMPLATES` 配置
3. 清除浏览器缓存

### Q: 登录后重定向到哪里？

**A:** 当前重定向到 `/dashboard/`，可以在 `auth_views.py` 中修改 `redirect('dashboard')` 为其他路径。

### Q: 如何让 Django Admin 使用自定义登录页面？

**A:** 在 `settings.py` 中添加：
```python
LOGIN_URL = '/login/'
```

### Q: 登录页面在移动端显示不正常？

**A:** 登录页面已包含响应式设计，如果仍有问题，检查：
1. 视口设置：`<meta name="viewport" content="width=device-width, initial-scale=1.0">`
2. CSS 媒体查询是否正确

## 📚 相关文件

- **登录模板**：`container_management/management/templates/management/login.html`
- **登录视图**：`container_management/management/auth_views.py`
- **URL 配置**：`container_management/container_management/urls.py`
- **项目设置**：`container_management/container_management/settings.py`

## ✨ 效果预览

新的登录页面包含：
- 🎨 美观的 Glassmorphism 设计
- 📱 完全响应式布局
- 💫 流畅的动画效果
- 🎯 清晰的表单设计
- 📋 系统功能展示

访问 `http://localhost:8000/login/` 即可查看效果！

---

**最后更新**：2024年

