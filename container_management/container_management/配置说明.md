# container_management/container_management/ é…ç½®ç›®å½•è¯´æ˜

## ğŸ“‹ ç›®å½•æ¦‚è¿°

`container_management/container_management/` æ˜¯ Django é¡¹ç›®çš„**æ ¸å¿ƒé…ç½®ç›®å½•**ï¼ŒåŒ…å«äº†é¡¹ç›®çš„æ‰€æœ‰å…¨å±€é…ç½®æ–‡ä»¶å’Œè®¾ç½®ã€‚è¿™ä¸ªç›®å½•çš„åç§°é€šå¸¸ä¸é¡¹ç›®åç§°ç›¸åŒï¼Œæ˜¯ Django é¡¹ç›®çš„æ ‡å‡†ç»“æ„ã€‚

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

### 1. `__init__.py` - Python åŒ…æ ‡è¯†æ–‡ä»¶

**ä½œç”¨**ï¼š
- å°† `container_management` ç›®å½•æ ‡è¯†ä¸ºä¸€ä¸ª Python åŒ…
- å…è®¸ Python å°†å…¶ä½œä¸ºæ¨¡å—å¯¼å…¥
- å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œé¡¹ç›®åˆå§‹åŒ–æ“ä½œï¼ˆå¦‚é…ç½®æ•°æ®åº“è¿æ¥ï¼‰

**å½“å‰å†…å®¹**ï¼š
```python
# æ–‡ä»¶ä¸ºç©ºï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Python åŒ…
```

**å¸¸è§ç”¨é€”**ï¼š
- å¦‚æœä½¿ç”¨ `pymysql` æ›¿ä»£ `mysqlclient`ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ï¼š
  ```python
  import pymysql
  pymysql.install_as_MySQLdb()
  ```

---

### 2. `settings.py` - Django é¡¹ç›®é…ç½®æ–‡ä»¶ â­ **æœ€é‡è¦**

**ä½œç”¨**ï¼šDjango é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰é¡¹ç›®è®¾ç½®ã€‚

**ä¸»è¦é…ç½®é¡¹**ï¼š

#### åŸºç¡€é…ç½®
- `SECRET_KEY` - åŠ å¯†å¯†é’¥ï¼ˆç”¨äºä¼šè¯ã€CSRF ä¿æŠ¤ç­‰ï¼‰
- `DEBUG` - è°ƒè¯•æ¨¡å¼å¼€å…³
- `ALLOWED_HOSTS` - å…è®¸è®¿é—®çš„ä¸»æœºåˆ—è¡¨

#### åº”ç”¨é…ç½®
- `INSTALLED_APPS` - å·²å®‰è£…çš„åº”ç”¨åˆ—è¡¨
  ```python
  INSTALLED_APPS = [
      'simpleui',           # SimpleUI ç¾åŒ–æ¡†æ¶
      'django.contrib.admin',
      'django.contrib.auth',
      'management',        # ä½ çš„ä¸šåŠ¡åº”ç”¨
      ...
  ]
  ```

#### ä¸­é—´ä»¶é…ç½®
- `MIDDLEWARE` - ä¸­é—´ä»¶åˆ—è¡¨ï¼ˆå¤„ç†è¯·æ±‚å’Œå“åº”ï¼‰
  ```python
  MIDDLEWARE = [
      'django.middleware.security.SecurityMiddleware',
      'django.contrib.sessions.middleware.SessionMiddleware',
      ...
  ]
  ```

#### æ•°æ®åº“é…ç½®
- `DATABASES` - æ•°æ®åº“è¿æ¥é…ç½®
  ```python
  DATABASES = {
      'default': {
          'ENGINE': 'django.db.backends.mysql',
          'NAME': 'box_management',
          'USER': 'root',
          'PASSWORD': 'your_password',
          'HOST': 'localhost',
          'PORT': '3306',
      }
  }
  ```

#### URL é…ç½®
- `ROOT_URLCONF` - æ ¹ URL é…ç½®æ–‡ä»¶è·¯å¾„
  ```python
  ROOT_URLCONF = 'container_management.urls'
  ```

#### æ¨¡æ¿é…ç½®
- `TEMPLATES` - æ¨¡æ¿å¼•æ“é…ç½®
  ```python
  TEMPLATES = [
      {
          'BACKEND': 'django.template.backends.django.DjangoTemplates',
          'DIRS': [BASE_DIR / 'management' / 'templates'],
          'APP_DIRS': True,
          ...
      }
  ]
  ```

#### é™æ€æ–‡ä»¶é…ç½®
- `STATIC_URL` - é™æ€æ–‡ä»¶ URL å‰ç¼€
- `STATIC_ROOT` - é™æ€æ–‡ä»¶æ”¶é›†ç›®å½•ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- `STATICFILES_DIRS` - é™æ€æ–‡ä»¶æœç´¢ç›®å½•

#### å›½é™…åŒ–é…ç½®
- `LANGUAGE_CODE` - è¯­è¨€ä»£ç ï¼ˆå¦‚ 'zh-hans'ï¼‰
- `TIME_ZONE` - æ—¶åŒºï¼ˆå¦‚ 'Asia/Shanghai'ï¼‰

#### SimpleUI é…ç½®
- `SIMPLEUI_CONFIG` - SimpleUI æ¡†æ¶é…ç½®
  ```python
  SIMPLEUI_CONFIG = {
      'home_title': 'ä»ªè¡¨ç›˜',
      'menus': [...],
      'system_keep': True,
  }
  ```

---

### 3. `urls.py` - URL è·¯ç”±é…ç½®æ–‡ä»¶ â­ **é‡è¦**

**ä½œç”¨**ï¼šå®šä¹‰é¡¹ç›®çš„ URL è·¯ç”±è§„åˆ™ï¼Œå°† URL è·¯å¾„æ˜ å°„åˆ°å¯¹åº”çš„è§†å›¾å‡½æ•°ã€‚

**å½“å‰é…ç½®**ï¼š

```python
urlpatterns = [
    # ä»ªè¡¨ç›˜é¡µé¢
    path('admin/dashboard/', admin_dashboard, name='admin_dashboard'),
    
    # èšåˆæœç´¢é¡µé¢
    path('admin/search/', aggregate_search, name='aggregate_search'),
    
    # Django Admin ä¸»å…¥å£
    path('admin/', admin.site.urls),
    
    # æ ¹è·¯å¾„é‡å®šå‘åˆ°åå°é¦–é¡µ
    re_path(r'^$', RedirectView.as_view(url='/admin/', permanent=False)),
]
```

**è·¯ç”±è¯´æ˜**ï¼š

| URL è·¯å¾„ | è§†å›¾å‡½æ•°/å¤„ç† | è¯´æ˜ |
|---------|--------------|------|
| `/` | é‡å®šå‘åˆ° `/admin/` | è®¿é—®æ ¹è·¯å¾„è‡ªåŠ¨è·³è½¬åˆ°åå° |
| `/admin/` | `admin.site.urls` | Django Admin ä¸»ç•Œé¢ |
| `/admin/dashboard/` | `admin_dashboard()` | ç³»ç»Ÿä»ªè¡¨ç›˜é¡µé¢ |
| `/admin/search/` | `aggregate_search()` | èšåˆæœç´¢é¡µé¢ |

**å·¥ä½œåŸç†**ï¼š
1. ç”¨æˆ·è®¿é—®æŸä¸ª URLï¼ˆå¦‚ `/admin/search/`ï¼‰
2. Django æ ¹æ® `urls.py` ä¸­çš„ `urlpatterns` åŒ¹é… URL
3. æ‰¾åˆ°åŒ¹é…çš„è·¯å¾„åï¼Œè°ƒç”¨å¯¹åº”çš„è§†å›¾å‡½æ•°
4. è§†å›¾å‡½æ•°å¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”

---

### 4. `wsgi.py` - WSGI éƒ¨ç½²é…ç½®

**ä½œç”¨**ï¼šWSGIï¼ˆWeb Server Gateway Interfaceï¼‰é…ç½®æ–‡ä»¶ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€‚

**å†…å®¹**ï¼š
```python
import os
from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'container_management.settings')
application = get_wsgi_application()
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**ï¼šä½¿ç”¨ Gunicornã€uWSGI ç­‰ WSGI æœåŠ¡å™¨
- **ä¼ ç»Ÿ Web æœåŠ¡å™¨**ï¼šApacheã€Nginx ç­‰é€šè¿‡ WSGI æ¥å£è¿æ¥ Django

**éƒ¨ç½²ç¤ºä¾‹**ï¼š
```bash
# ä½¿ç”¨ Gunicorn éƒ¨ç½²
gunicorn container_management.wsgi:application
```

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼š
- WSGI æ˜¯ Python Web åº”ç”¨ä¸ Web æœåŠ¡å™¨ä¹‹é—´çš„æ ‡å‡†æ¥å£
- å…è®¸ Django åº”ç”¨è¿è¡Œåœ¨å„ç§ Web æœåŠ¡å™¨ä¸Š
- æä¾›ç”Ÿäº§ç¯å¢ƒçš„æ€§èƒ½å’Œç¨³å®šæ€§

---

### 5. `asgi.py` - ASGI éƒ¨ç½²é…ç½®

**ä½œç”¨**ï¼šASGIï¼ˆAsynchronous Server Gateway Interfaceï¼‰é…ç½®æ–‡ä»¶ï¼Œç”¨äºå¼‚æ­¥ Web åº”ç”¨éƒ¨ç½²ã€‚

**å†…å®¹**ï¼š
```python
import os
from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'container_management.settings')
application = get_asgi_application()
```

**ä½¿ç”¨åœºæ™¯**ï¼š
- **å¼‚æ­¥åº”ç”¨**ï¼šéœ€è¦ WebSocketã€HTTP/2 ç­‰å¼‚æ­¥åŠŸèƒ½
- **ç°ä»£éƒ¨ç½²**ï¼šä½¿ç”¨ Daphneã€Uvicorn ç­‰ ASGI æœåŠ¡å™¨
- **å®æ—¶åŠŸèƒ½**ï¼šèŠå¤©ã€å®æ—¶é€šçŸ¥ç­‰

**éƒ¨ç½²ç¤ºä¾‹**ï¼š
```bash
# ä½¿ç”¨ Daphne éƒ¨ç½²
daphne container_management.asgi:application
```

**WSGI vs ASGI**ï¼š
- **WSGI**ï¼šåŒæ­¥æ¥å£ï¼Œä¼ ç»Ÿ Web åº”ç”¨
- **ASGI**ï¼šå¼‚æ­¥æ¥å£ï¼Œæ”¯æŒ WebSocketã€HTTP/2 ç­‰ç°ä»£ç‰¹æ€§

**å½“å‰é¡¹ç›®**ï¼š
- é¡¹ç›®ä¸»è¦ä½¿ç”¨ WSGIï¼ˆä¼ ç»Ÿ Web åº”ç”¨ï¼‰
- ASGI æ–‡ä»¶å­˜åœ¨æ˜¯ä¸ºäº†å…¼å®¹æ€§å’Œæœªæ¥æ‰©å±•

---

## ğŸ”„ é…ç½®æ–‡ä»¶ä¹‹é—´çš„å…³ç³»

```
ç”¨æˆ·è¯·æ±‚
    â†“
URL è·¯ç”± (urls.py)
    â†“
è§†å›¾å‡½æ•° (views.py, dashboard_views.py)
    â†“
æ•°æ®åº“æ“ä½œ (models.py)
    â†“
æ¨¡æ¿æ¸²æŸ“ (templates/)
    â†“
è¿”å›å“åº”
```

**é…ç½®æµç¨‹**ï¼š
1. **settings.py** - å®šä¹‰é¡¹ç›®å…¨å±€é…ç½®ï¼ˆæ•°æ®åº“ã€åº”ç”¨ã€ä¸­é—´ä»¶ç­‰ï¼‰
2. **urls.py** - å®šä¹‰ URL è·¯ç”±è§„åˆ™
3. **wsgi.py/asgi.py** - æä¾›éƒ¨ç½²æ¥å£

---

## ğŸ› ï¸ å¸¸è§é…ç½®ä¿®æ”¹

### ä¿®æ”¹æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `settings.py`ï¼š
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'your_database_name',      # ä¿®æ”¹æ•°æ®åº“å
        'USER': 'your_username',           # ä¿®æ”¹ç”¨æˆ·å
        'PASSWORD': 'your_password',        # ä¿®æ”¹å¯†ç 
        'HOST': 'localhost',
        'PORT': '3306',
    }
}
```

### æ·»åŠ æ–°çš„ URL è·¯ç”±

ç¼–è¾‘ `urls.py`ï¼š
```python
from management.views import your_new_view

urlpatterns = [
    # ... ç°æœ‰è·¯ç”± ...
    path('admin/your-path/', your_new_view, name='your_view_name'),
]
```

### æ·»åŠ æ–°çš„åº”ç”¨

ç¼–è¾‘ `settings.py`ï¼š
```python
INSTALLED_APPS = [
    # ... ç°æœ‰åº”ç”¨ ...
    'your_new_app',  # æ·»åŠ æ–°åº”ç”¨
]
```

### ä¿®æ”¹æ—¶åŒºå’Œè¯­è¨€

ç¼–è¾‘ `settings.py`ï¼š
```python
LANGUAGE_CODE = 'zh-hans'  # ä¸­æ–‡ç®€ä½“
TIME_ZONE = 'Asia/Shanghai'  # ä¸Šæµ·æ—¶åŒº
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. å®‰å…¨æ€§
- âš ï¸ **ä¸è¦**å°† `settings.py` æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚æœåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
- âš ï¸ **ç”Ÿäº§ç¯å¢ƒ**å¿…é¡»è®¾ç½® `DEBUG = False`
- âš ï¸ **SECRET_KEY** å¿…é¡»ä¿å¯†ï¼Œä¸è¦æ³„éœ²

### 2. é…ç½®ä¼˜å…ˆçº§
- ç¯å¢ƒå˜é‡ > `settings.py` > é»˜è®¤å€¼
- å¯ä»¥ä½¿ç”¨ `python-decouple` æˆ– `django-environ` ç®¡ç†ç¯å¢ƒå˜é‡

### 3. æ–‡ä»¶ä½ç½®
- é…ç½®æ–‡ä»¶å¿…é¡»åœ¨ `container_management/container_management/` ç›®å½•ä¸‹
- ä¸è¦éšæ„ç§»åŠ¨æˆ–é‡å‘½åè¿™äº›æ–‡ä»¶

---

## ğŸ¯ æ€»ç»“

`container_management/container_management/` ç›®å½•æ˜¯ Django é¡¹ç›®çš„**é…ç½®ä¸­å¿ƒ**ï¼ŒåŒ…å«ï¼š

| æ–‡ä»¶ | ä½œç”¨ | é‡è¦æ€§ |
|-----|------|--------|
| `settings.py` | é¡¹ç›®å…¨å±€é…ç½® | â­â­â­â­â­ |
| `urls.py` | URL è·¯ç”±é…ç½® | â­â­â­â­â­ |
| `wsgi.py` | ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² | â­â­â­â­ |
| `asgi.py` | å¼‚æ­¥åº”ç”¨éƒ¨ç½² | â­â­â­ |
| `__init__.py` | Python åŒ…æ ‡è¯† | â­â­ |

è¿™äº›æ–‡ä»¶å…±åŒæ„æˆäº† Django é¡¹ç›®çš„**åŸºç¡€è®¾æ–½**ï¼Œå®šä¹‰äº†é¡¹ç›®çš„è¿è¡Œæ–¹å¼ã€URL ç»“æ„å’Œéƒ¨ç½²æ¥å£ã€‚

